templates:
  default: &default
    chart: ./services/{{ .Release.Name }}
    namespace: '{{ .Namespace | default "default" }}'
    missingFileHandler: Warn
    timeout: 900
    values:
      - default.values.yaml
      - config/{{ .Release.Name }}/values.yaml
      - config/{{ .Release.Name }}/values.yaml.gotmpl

  infra: &infra_default
    missingFileHandler: Warn
    timeout: 900
    values:
      - config/{{ .Release.Name }}/values.yaml
      - config/{{ .Release.Name }}/values.yaml.gotmpl

  default_generic: &generic_stateless
    <<: *default
    chart: ../charts/charts/stateless

  generic_json: &generic_stateless_json
    <<: *default
    chart: ../charts/charts/stateless
    values:
      - config/{{ .Release.Name }}/values.yaml.gotmpl
      - logs:
          json: true

  generic_statefull: &generic_statefull
    <<: *default
    chart: ../charts/charts/statefull

  generic_statefull_json: &generic_statefull_json
    <<: *default
    chart: ../charts/charts/statefull
    values:
      - config/{{ .Release.Name }}/values.yaml.gotmpl
      - logs:
          json: true
